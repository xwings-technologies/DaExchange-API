# REST Private
## Authentication
All requests to authenticated endpoints require authentication by providing API key, signature, timestamp and passcode.

### API Key
Before being able to send any requests, you must create API key via the exchange website. Upon creation, you will be provided:

* Key  (Generated by exchange)
* Secret  (Generated by exchange)
* Passcode  (Provided by user and exchange stores the salted hash of the passcode to further secure the api access)

### API Key Permissions
You can restrict the functionality of API keys.

* TRADE_VIEW
   * OpenOrders
   * AllOrders
   * Fills
* TRADE
   * New Order
   * Cancel Order
   * Cancel All Order
* ACCOUNT_VIEW
   * Accounts
   * Account Transactions
* WITHDRAW
   * Withdraw

### Sending a Request

```java
//Code for generate API-SIGN

import javax.crypto.Mac;
import javax.crypto.spec.SecretKeySpec;
import java.security.InvalidKeyException;
import java.security.NoSuchAlgorithmException;
import java.util.Base64;

public class ApiSignGenerator {

    public static String generateApiSign(long timestamp, String method, String path, String apiSecret) throws NoSuchAlgorithmException, InvalidKeyException {
        String algorithm = "HmacSHA256";
        String message = timestamp + (method == null ? "" : method.toUpperCase()) + (path == null ? "" : path);
        byte[] encodedSecret = Base64.getEncoder().encode(apiSecret.getBytes());
        SecretKeySpec secretKeySpec = new SecretKeySpec(encodedSecret, algorithm);
        Mac mac = Mac.getInstance(algorithm);
        mac.init(secretKeySpec);
        byte[] bytes = mac.doFinal(message.getBytes());
        return new String(Hex.encodeHex(bytes));
     }

}
```

```javascript
//Code for generate API-SIGN

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/crypto-js.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/Base64/1.0.1/base64.js"></script>
<script type="text/javascript">
	function generateApiSign(timestamp, method, path, apiSecret) {
		var message = timestamp + method + path;
		var encodedSecret = window.btoa(apiSecret);
		return CryptoJS.HmacSHA256(message, encodedSecret).toString();
	};
</script>




```

All requests must contain the following headers:

* API-KEY The api key
* API-SIGN The hex-encoded signature by creating a sha256 HMAC using the base64 encoded secret Key on the prehash string timestamp + method + url and hex-encode the output
* API-TIMESTAMP The same timestamp used in the signature. It should be in seconds since UNIX Epoch.
* API-PASSCODE The passcode provided during api key creation

The timestamp must be within 5 seconds of the serve time or your request will be considered expired and rejected. 
To change 5 seconds expiry time, you could set the optional field **API-EXPIRY** in header with a number in seconds.
Please use /time endpoint to query for the server time if you believe there many be time skew between your server and our servers.

## Open Orders
```shell
curl "https://api.xxxx.com/api/openOrders"
-H "API-KEY: e4bdaf100dd50233dbe1b095337f30b6"
-H "API-SIGN: 105f2f99fd52b2c32455f1a4f32534a907005a729e606fc75b3867c94d8203a5"
-H "API-TIMESTAMP: 1546065657543"
-H "API-PASSCODE: apiPassphrase1"
```

```javascript
function request() {
    var xhr = new XMLHttpRequest();
    xhr.addEventListener("readystatechange", function () {
        if (this.readyState === this.DONE) {
            return this.responseText;
        }
    });
    xhr.open("GET", "https://api.xxxx.com/api/openOrders", true);
    xhr.setRequestHeader("API-KEY","e4bdaf100dd50233dbe1b095337f30b6");
    xhr.setRequestHeader("API-SIGN","105f2f99fd52b2c32455f1a4f32534a907005a729e606fc75b3867c94d8203a5");
    xhr.setRequestHeader("API-TIMESTAMP","1546065657543");
    xhr.setRequestHeader("API-PASSCODE","apiPassphrase1");
    xhr.send();
}
```

> Sample response:

```json
{
  "records": [
    {
      "selfTradePrevention": "CO",
      "orderType": "LIMIT",
      "side": "BUY",
      "lastModifiedTime": 1545718675960,
      "orderId": "180eaf73-19ea-4f5e-ae72-c7f5e5f16362",
      "instrumentId": "ETH/BTC",
      "fee": "0",
      "clientOrderId": "",
      "orderStatus": "NEW",
      "avgExecutedPrice": "0",
      "totalExecutedSize": "0",
      "postOnly": false,
      "stopPrice": "0",
      "size": "0.3",
      "price": "0.03228",
      "createdTime": 1545718675958,
      "timeInForce": "GTC"
    }
  ],
  "count": 1,
  "totalCount": 1
}  
```

Returns an array of open orders; Pagination is supported. 
Data is returned in descending order of **lastModifiedTime**. Newest modified orders first, oldest last.

### Http request
```GET /api/openOrders```

### Request Parameters
Name           | Type(value)                                 | Mandatory   | Description
---------------| --------------------------------------------|-------------|-------------------------------------------------------
instrumentId   | String                                      | O           | If not provided, orders for all symbols are returned
pageNumber     | Integer                                     | O           | If not provided, it will use default page number
pageSize       | Integer                                     | O           | If not provided, it will use default page size

### Success Response Body Fields
Name         | Type(value)      | Mandatory | Description
-------------| -----------------|-----------|-------------
totalCount   | Integer          | M         |
records      | Array of orders  | M         |
count        | Integer          | M         |

### Record Fields
Name                  | Type(value)                      | Mandatory   | Description
----------------------| ---------------------------------|-------------|-------------------------------------------------------------------------------
orderId               | String                           | M           |
lastModifiedTime      | Long                             | M           | last update time on this order
instrumentId          | String                           | M           |
orderType             | Enum                             | M           | 
price                 | DoubleString                     | M           |
size                  | DoubleString                     | M           |
side                  | Enum                             | M           | 
timeInForce           | Enum                             | M           | 
createdTime           | Long                             | M           | When the order was accepted
stopPrice             | DoubleString                     | O           |
orderStatus           | Enum                             | M           | 
avgExecutedPrice      | DoubleString                     | O           | Average executed prices of all fills in this order 
totalExecutedSize     | DoubleString                     | O           |
selfTradePrevention   | Enum                             | M           | 
clientOrderId         | String                           | O           |
fee                   | DoubleString                     | O           |

## Get All Orders
```shell
curl "https://api.xxxx.com/api/allOrders"
-H "API-KEY: e4bdaf100dd50233dbe1b095337f30b6"
-H "API-SIGN: 105f2f99fd52b2c32455f1a4f32534a907005a729e606fc75b3867c94d8203a5"
-H "API-TIMESTAMP: 1546065657543"
-H "API-PASSCODE: apiPassphrase1"
```

```javascript
function request() {
    var xhr = new XMLHttpRequest();
    xhr.addEventListener("readystatechange", function () {
        if (this.readyState === this.DONE) {
            return this.responseText;
        }
    });
    xhr.open("GET", "https://api.xxxx.com/api/allOrders", true);
    xhr.setRequestHeader("API-KEY","e4bdaf100dd50233dbe1b095337f30b6");
    xhr.setRequestHeader("API-SIGN","105f2f99fd52b2c32455f1a4f32534a907005a729e606fc75b3867c94d8203a5");
    xhr.setRequestHeader("API-TIMESTAMP","1546065657543");
    xhr.setRequestHeader("API-PASSCODE","apiPassphrase1");
    xhr.send();
}
```

> Sample response:

```json
{
  "records": [
    {
      "selfTradePrevention": "CO",
      "orderType": "LIMIT",
      "side": "BUY",
      "lastModifiedTime": 1545718675960,
      "orderId": "180eaf73-19ea-4f5e-ae72-c7f5e5f16362",
      "instrumentId": "ETH/BTC",
      "fee": "0",
      "clientOrderId": "",
      "orderStatus": "NEW",
      "avgExecutedPrice": "0",
      "totalExecutedSize": "0",
      "postOnly": false,
      "stopPrice": "0",
      "size": "0.3",
      "price": "0.03328",
      "createdTime": 1545718675958,
      "timeInForce": "GTC"
    },
    {
      "selfTradePrevention": "CO",
      "orderType": "LIMIT",
      "side": "SELL",
      "lastModifiedTime": 1545719695499,
      "orderId": "99b1b4b3-aa0d-493f-b8b4-40d381916686",
      "instrumentId": "ETH/BTC",
      "fee": "0",
      "clientOrderId": "",
      "orderStatus": "NEW",
      "avgExecutedPrice": "0",
      "totalExecutedSize": "0",
      "postOnly": false,
      "stopPrice": "0",
      "size": "0.37",
      "price": "0.0332",
      "createdTime": 1545719695492,
      "timeInForce": "GTC"
    }
  ],
  "count": 1,
  "totalCount": 1
}  
```

Returns an array of orders; Pagination is supported. Data is returned in descending order of **lastModifiedTime**. Newest first, oldest last.
Cancelled orders in the most recent 2 days are included, the older cancelled orders are not.

    Weight: 5

### Http request
```GET /api/allOrders```
    
### Request Parameters

Name           | Type(value)                                 | Mandatory   | Description
---------------| --------------------------------------------|-------------|-------------------------------------------------------
orderId        | String                                      | O           | 
instrumentId   | String                                      | O           | If not provided, orders for all assets are returned
orderStatus    | Enum                                        | O           | If not provided, orders for all status are returned
pageNumber     | Integer                                     | O           | If not provided, it will use default page number of 1
pageSize       | Integer                                     | O           | If not provided, it will use default page size of 100

### Success Response Body Fields

Name         | Type(value)      | Mandatory | Description
-------------| -----------------|-----------|-------------
totalCount   | Integer          | M         |
records      | Array of orders  | M         |
count        | Integer          | M         |

### Record Fields                      
Name                  | Type(value)                      | Mandatory   | Description
----------------------| ---------------------------------|-------------|-------------------------------------------------------------------------------
orderId               | String                           | M           | 
lastModifiedTime      | Long                             | M           | Timestamp of the last update on this order
instrumentId          | String                           | M           | 
orderType             | Enum                             | M           |
price                 | DoubleString                     | M           | 
size                  | DoubleString                     | M           | 
side                  | Enum                             | M           |
timeInForce           | Enum                             | M           |
createdTime           | Long                             | M           | When the order was accepted
stopPrice             | DoubleString                     | O           | 
orderStatus           | Enum                             | M           |
avgExecutedPrice      | DoubleString                     | O           | Average executed price of all fills in this order
totalExecutedSize     | DoubleString                     | O           | Total executed size
selfTradePrevention   | Enum                             | M           | Default - CO
clientOrderId         | String                           | O           | 
fee                   | DoubleString                     | O           |

## Fills
```shell
curl "https://api.xxxx.com/api/fills"
-H "API-KEY: e4bdaf100dd50233dbe1b095337f30b6"
-H "API-SIGN: 105f2f99fd52b2c32455f1a4f32534a907005a729e606fc75b3867c94d8203a5"
-H "API-TIMESTAMP: 1546065657543"
-H "API-PASSCODE: apiPassphrase1"
```

```javascript
function request() {
    var xhr = new XMLHttpRequest();
    xhr.addEventListener("readystatechange", function () {
        if (this.readyState === this.DONE) {
            return this.responseText;
        }
    });
    xhr.open("GET", "https://api.xxxx.com/api/fills", true);
    xhr.setRequestHeader("API-KEY","e4bdaf100dd50233dbe1b095337f30b6");
    xhr.setRequestHeader("API-SIGN","105f2f99fd52b2c32455f1a4f32534a907005a729e606fc75b3867c94d8203a5");
    xhr.setRequestHeader("API-TIMESTAMP","1546065657543");
    xhr.setRequestHeader("API-PASSCODE","apiPassphrase1");
    xhr.send();
}
```

> Sample response:

```json
{
  "records": [
    {
      "side": "SELL",
      "size": "0.03",
      "orderId": "561b9649-316d-45d2-a704-d595889f0a6a",
      "instrumentId": "ETH/BTC",
      "price": "0.0325",
      "fee": "0.000975",
      "createdTime": 1545721629663,
      "tradeId": "2"
    },
    {
      "side": "BUY",
      "size": "0.3",
      "orderId": "3aeca730-0b5a-4727-9277-bac496e3fc22",
      "instrumentId": "ETH/BTC",
      "price": "0.0317",
      "fee": "0.00951",
      "createdTime": 1545721629614,
      "tradeId": "1"
    }
  ],
  "count": 2,
  "totalCount": 2
}
```

Returns an array of fills; Pagination is supported. Data is returned in descending order. Newest first, oldest last.

Weight: 5

### Http request
```GET /api/fills```

### Request Parameters

Name          | Type(value)  | Mandatory | Description          
--------------| -------------| ----------| ----------------------------------------------------
instrumentId  | String       | O         | If not provided, fills for all instruments are returned
pageNumber    | Integer      | O         | If not provided, it will use default page number of 1
pageSize      | Integer      | O         | If not provided, it will use default page size of 100

### Success Response Body Fields

Name         | Type(value)      | Mandatory | Description
-------------| -----------------|-----------|-------------
totalCount   | Integer          | M         |
records      | Array of record  | M         |
count        | Integer          | M         |

### Record Fields  
Name          | Type(value)  | Mandatory | Description
--------------| -------------| ----------| ---------------------------------------
createdTime   | Long         | M         | When the fill occured
tradeId       | String       | M         |
orderId       | String       | M         | 
instrumentId  | String       | M         | 
side          | Enum         | M         |
price         | DoubleString | M         |
size          | DoubleString | M         |
fee           | DoubleString | M         |

## New Order

```shell
curl "https://api.xxxx.com/api/newOrder"
-H "API-KEY: e4bdaf100dd50233dbe1b095337f30b6"
-H "API-SIGN: 105f2f99fd52b2c32455f1a4f32534a907005a729e606fc75b3867c94d8203a5"
-H "API-TIMESTAMP: 1546065657543"
-H "API-PASSCODE: apiPassphrase1"
-X "POST"
-H "Content-Type:application/json"
-d '{"postOnly":true,"orderType":"LIMIT","side":"SELL","size":"0.1","instrumentId":"ETH/BTC","price":"0.0328","timeInForce":"GTC"}'
```

```javascript
function request() {
    var xhr = new XMLHttpRequest();
    xhr.addEventListener("readystatechange", function () {
        if (this.readyState === this.DONE) {
            return this.responseText;
        }
    });
    xhr.open("POST", "https://api.xxxx.com/api/newOrder", true);
    xhr.setRequestHeader("API-KEY","e4bdaf100dd50233dbe1b095337f30b6");
    xhr.setRequestHeader("API-SIGN","105f2f99fd52b2c32455f1a4f32534a907005a729e606fc75b3867c94d8203a5");
    xhr.setRequestHeader("API-TIMESTAMP","1546065657543");
    xhr.setRequestHeader("API-PASSCODE","apiPassphrase1");
    xhr.setRequestHeader("Content-Type","application/json");
    var data = '{"postOnly":true,"orderType":"LIMIT","side":"SELL","size":"0.1","instrumentId":"ETH/BTC","price":"0.0328","timeInForce":"GTC"}';
    xhr.send(data);
}
```

> Sample response:

```json
{
  "orderId": "fb2b1b09-56ff-4c37-9f59-4170c55f2364",
  "clientOrderId": "",
  "timestamp": 1546056658895
}
```

### Http request
```POST /api/newOrder```

### Request Parameters:

Name                  | Type(value)        | Mandatory | Description
----------------------| -------------------| ----------| ----------------------------------------------------
instrumentId          | String             | M         |
orderType             | Enum               | M         |
price                 | DoubleString       | (M)       | Mandatory in LIMIT order
size                  | DoubleString       | (M)       | Mandatory in LIMIT order; Mandatory in MARKET order if quoteAmount is not provided
quoteAmount           | DoubleString       | (M)       | Amount in quote asset term. Mandatory in MARKET order if size is not provided
side                  | Enum               | M         |
timeInForce           | Enum               | O         | Default to GTC for LIMIT orders
clientOrderId         | String             | O         | Provided by user
stopType              | Enum               | O         | Only used in stop orders
stopPrice             | NumberString       | (M)       | Mandatory if stopType is specified
postOnly              | Boolean            | O         | Default to false. If any part of the order results in taking liquidity, the order will be rejected and no part of it will execute.
selfTradePrevention   | Enum               | O         | Default to CO - cancel the oldest
orderRouting          | Boolean            | O         | Default to false.

Mandatory fields based on order type:

orderType             | Mandatory Fields
----------------------|--------------------------------------------
LIMIT                 | price, size
MARKET                | size or quoteAmount
STOP_ENTRY            | quoteAmount(buy order), stopPrice
STOP_ENTRY_LIMIT      | price, size, stopPrice
STOP_LOSS             | size(sell order), stopPrice
STOP_LOSS_LIMIT       | price, size, stopPrice

### Success Response Body Fields

Name                  | Type(value)        | Mandatory | Description
----------------------| -------------------| ----------| ----------------------------------------------------
clientOrderId         | String             | (M)       | Mandatory if clientOrderId is provided by the user
orderId               | String             | M         | System generated unique order id
timestamp             | Long               | M         | Time when the order is accepted with order status of PENDING_NEW

## Cancel Order 

```shell
curl "https://api.xxxx.com/api/cancelOrder"
-H "API-KEY: e4bdaf100dd50233dbe1b095337f30b6"
-H "API-SIGN: 105f2f99fd52b2c32455f1a4f32534a907005a729e606fc75b3867c94d8203a5"
-H "API-TIMESTAMP: 1546065657543"
-H "API-PASSCODE: apiPassphrase1"
-X "POST"
-H "Content-Type:application/json"
-d '{"orderId":"3071ede3-20ab-4b9e-a6eb-9d56e61e4165"}'
```

```javascript
function request() {
    var xhr = new XMLHttpRequest();
    xhr.addEventListener("readystatechange", function () {
        if (this.readyState === this.DONE) {
            return this.responseText;
        }
    });
    xhr.open("POST", "https://api.xxxx.com/api/cancelOrder", true);
    xhr.setRequestHeader("API-KEY","e4bdaf100dd50233dbe1b095337f30b6");
    xhr.setRequestHeader("API-SIGN","105f2f99fd52b2c32455f1a4f32534a907005a729e606fc75b3867c94d8203a5");
    xhr.setRequestHeader("API-TIMESTAMP","1546065657543");
    xhr.setRequestHeader("API-PASSCODE","apiPassphrase1");
    xhr.setRequestHeader("Content-Type","application/json");
    var data = '{"orderId":"3071ede3-20ab-4b9e-a6eb-9d56e61e4165"}';
    xhr.send(data);
}
```

> Sample response:

```json
{
  "orderId": "3071ede3-20ab-4b9e-a6eb-9d56e61e4165",
  "clientOrderId": "",
  "timestamp": 1546056658895
}
```

### Http request
```POST /api/cancelOrder```

### Request Parameters

Name               | Type(value)    | Mandatory | Description
-------------------| ---------------| ----------| -----------
orderId            | String         | (M)       | Mandatory if clientOrderId is not provided
clientOrderId      | String         | (M)       | Mandatory if orderId is not provided

### Success Response Body Fields

Name               | Type(value)       | Mandatory | Description
-------------------| ------------------| ----------| ----------------------------------------
orderId            | String            | M         | 
clientOrderId      | String            | (M)       | Mandatory if clientOrderId is provided
timestamp          | Long              | M         | When the cancel is accepted and order status is updated to PENDING_CANCEL

## Cancel All Order 

```shell
curl "https://api.xxxx.com/api/cancelAllOrders"
-H "API-KEY: e4bdaf100dd50233dbe1b095337f30b6"
-H "API-SIGN: 105f2f99fd52b2c32455f1a4f32534a907005a729e606fc75b3867c94d8203a5"
-H "API-TIMESTAMP: 1546065657543"
-H "API-PASSCODE: apiPassphrase1"
-X "POST"
-H "Content-Type:application/json"
-d '{"instrumentId":"ETH/BTC"}'
```

```javascript
function request() {
    var xhr = new XMLHttpRequest();
    xhr.addEventListener("readystatechange", function () {
        if (this.readyState === this.DONE) {
            return this.responseText;
        }
    });
    xhr.open("POST", "https://api.xxxx.com/api/cancelAllOrders", true);
    xhr.setRequestHeader("API-KEY","e4bdaf100dd50233dbe1b095337f30b6");
    xhr.setRequestHeader("API-SIGN","105f2f99fd52b2c32455f1a4f32534a907005a729e606fc75b3867c94d8203a5");
    xhr.setRequestHeader("API-TIMESTAMP","1546065657543");
    xhr.setRequestHeader("API-PASSCODE","apiPassphrase1");
    xhr.setRequestHeader("Content-Type","application/json");
    var data = '{"instrumentId":"ETH/BTC"}';
    xhr.send(data);
}
```

> Sample response:

```json
{
  "orderIds": [
    "8a7d9589-4ad0-415e-b8b8-e04fc573408d",
    "8f7a652b-9b4d-42ed-8bb6-f1d331b5cf48"
  ]
}
```

This is to cancel all open orders with best effort.

### Http request
```POST /api/cancelAllOrders```

### Request Parameters
Name               | Type(value)    | Mandatory | Description
-------------------| ---------------| ----------| -------------------------------------------------
instrumentId       | String         | O         | Cancel all orders for the specified instrument. Default to cancel orders under all instruments

### Success Response Body Fields
Name               | Type(value)       | Mandatory | Description
-------------------| ------------------| ----------| ----------------------------------------
orderIds           | Array of Strings  | M         | Orders that are being cancelled in the system 

## Accounts

```shell
curl "https://api.xxxx.com/api/accounts"
-H "API-KEY: e4bdaf100dd50233dbe1b095337f30b6"
-H "API-SIGN: 105f2f99fd52b2c32455f1a4f32534a907005a729e606fc75b3867c94d8203a5"
-H "API-TIMESTAMP: 1546065657543"
-H "API-PASSCODE: apiPassphrase1"
```

```javascript
function request() {
    var xhr = new XMLHttpRequest();
    xhr.addEventListener("readystatechange", function () {
        if (this.readyState === this.DONE) {
            return this.responseText;
        }
    });
    xhr.open("GET", "https://api.xxxx.com/api/accounts", true);
    xhr.setRequestHeader("API-KEY","e4bdaf100dd50233dbe1b095337f30b6");
    xhr.setRequestHeader("API-SIGN","105f2f99fd52b2c32455f1a4f32534a907005a729e606fc75b3867c94d8203a5");
    xhr.setRequestHeader("API-TIMESTAMP","1546065657543");
    xhr.setRequestHeader("API-PASSCODE","apiPassphrase1");
    xhr.send();
}
```

> Sample response:

```json
[
  {
    "lastModifiedTime": 1545726627568,
    "balance": "37.67",
    "available": "26.468",
    "asset": "ETH"
  },
  {
    "lastModifiedTime": 1545726627570,
    "balance": "0",
    "available": "0",
    "asset": "XRP"
  },
  {
    "lastModifiedTime": 1545726627575,
    "balance": "0",
    "available": "0",
    "asset": "XMR"
  },
  {
    "lastModifiedTime": 1545726627565,
    "balance": "0.7385",
    "available": "0.673",
    "asset": "BTC"
  }
]
```

### Http request
```GET /api/accounts```

### Success Response Body Array Json Fields
Name             | Type(value)   | Mandatory | Description
-----------------| --------------| ----------| ---------------------------------------------------
asset            | String        | M         |
balance          | DoubleString  | M         | Remaining balance in the asset
available        | DoubleString  | M         | available balance = balance - outstanding order size - outstanding withdraw request size
lastModifiedTime | Long          | M         | 

## Account Transactions

```shell
curl "https://api.xxxx.com/api/accountHistory"
-H "API-KEY: e4bdaf100dd50233dbe1b095337f30b6"
-H "API-SIGN: 105f2f99fd52b2c32455f1a4f32534a907005a729e606fc75b3867c94d8203a5"
-H "API-TIMESTAMP: 1546065657543"
-H "API-PASSCODE: apiPassphrase1"
```

```javascript
function request() {
    var xhr = new XMLHttpRequest();
    xhr.addEventListener("readystatechange", function () {
        if (this.readyState === this.DONE) {
            return this.responseText;
        }
    });
    xhr.open("GET", "https://api.xxxx.com/api/accountHistory", true);
    xhr.setRequestHeader("API-KEY","e4bdaf100dd50233dbe1b095337f30b6");
    xhr.setRequestHeader("API-SIGN","105f2f99fd52b2c32455f1a4f32534a907005a729e606fc75b3867c94d8203a5");
    xhr.setRequestHeader("API-TIMESTAMP","1546065657543");
    xhr.setRequestHeader("API-PASSCODE","apiPassphrase1");
    xhr.send();
}
```

> Sample response:

```json
{
  "records": [
    {
      "transactionType": "TRADE_FEE",
      "amount": "-0.00951",
      "balance": "0.7385",
      "createdTime": 1545727187909,
      "asset": "BTC",
      "transactionId": "8d793ebd-d002-4c42-827a-bdfe11668d04",
      "referenceId": "ETH/BTC:2"
    },
    {
      "transactionType": "TRADE",
      "amount": "0.3",
      "balance": "37.67",
      "createdTime": 1545727187909,
      "asset": "ETH",
      "transactionId": "8d793ebd-d002-4c42-827a-bdfe11668d04",
      "referenceId": "ETH/BTC:2"
    }
  ],
  "count": 2,
  "totalCount": 2
}
```

### Http request
```GET /api/accountHistory```
    
    Weight: 5

List all the account transactions that either increases or decreases the
account balance and available balance. Pagination is supported.

### Request Parameters

Name            | Type(value)   | Mandatory | Description
----------------| --------------| ----------| ----------------------------------------
asset           | String        | O         | Return recent transactions for all assets
referenceId     | String        | O         | 

### Success Response Body Array Json Fields

Name              | Type(value)   | Mandatory | Description
------------------| --------------| ----------| ------------------------------------------------------------
transactionId     | String        | M         | 
asset             | String        | M         |
transactionType   | Enum          | M         |
amount            | DoubleString  | M         | Amount change triggered by the transaction.
balance           | DoubleString  | M         | 
available         | DoubleString  | M         | 
createdTime       | Long          | M         | 
referenceId       | String        | M         | Reference id associated with the transaction.  TRANSFER(txId) TRADE{tradeId) TRADE_FEE(tradeId) TRANSFER_FEE(txId) 


## Profit and Loss

```shell
curl "https://api.xxxx.com/api/pnls"
-H "API-KEY: e4bdaf100dd50233dbe1b095337f30b6"
-H "API-SIGN: 105f2f99fd52b2c32455f1a4f32534a907005a729e606fc75b3867c94d8203a5"
-H "API-TIMESTAMP: 1546065657543"
-H "API-PASSCODE: apiPassphrase1"
```

```javascript
function request() {
    var xhr = new XMLHttpRequest();
    xhr.addEventListener("readystatechange", function () {
        if (this.readyState === this.DONE) {
            return this.responseText;
        }
    });
    xhr.open("GET", "https://api.xxxx.com/api/pnls", true);
    xhr.setRequestHeader("API-KEY","e4bdaf100dd50233dbe1b095337f30b6");
    xhr.setRequestHeader("API-SIGN","105f2f99fd52b2c32455f1a4f32534a907005a729e606fc75b3867c94d8203a5");
    xhr.setRequestHeader("API-TIMESTAMP","1546065657543");
    xhr.setRequestHeader("API-PASSCODE","apiPassphrase1");
    xhr.send();
}
```

> Sample response:

```json
[
  {
    "lastModifiedTime": 1545727761975,
    "balance": "37.67",
    "previousDayPNL": "39.35",
    "costBasis": "4467.66",
    "realizedPNL": "634.64",
    "asset": "ETH",
    "pnlBaseAsset": "USD"
  }
]
```

### Http request
```GET /api/pnls```

List all the pnls for each holding asset.

### Success Response Body Array Json Fields

Name              | Type(value)   | Mandatory                                           | Description
----------------- | --------------| ----------------------------------------------------| ---------------------------------------------------
asset             | String        | M                                                   |
pnlBaseAsset      | String        | M                                                   | Base asset used to calculate the pnl
balance           | DoubleString  | M                                                   | Current asset balance                                  
costBasis         | DoubleString  | M                                                   | Total ost basis in base asset term
previousDayPNL    | DoubleString  | M                                                   | Previous day pnl in base asset term
realizedPNL       | DoubleString  | M                                                   | Realized pnl in base asset term
lastModifiedTime  | Long          | M                                                   | 

## Withdraw

```shell
curl "https://api.xxxx.com/api/withdraw"
-H "API-KEY: e4bdaf100dd50233dbe1b095337f30b6"
-H "API-SIGN: 105f2f99fd52b2c32455f1a4f32534a907005a729e606fc75b3867c94d8203a5"
-H "API-TIMESTAMP: 1546065657543"
-H "API-PASSCODE: apiPassphrase1"
-X "POST"
-H "Content-Type:application/json"
-d '{"amount":"1.01","address":"2N3EUjhfGFkwCrnoegehrQneskYhFiPJy96","asset":"BTC"}'
```

```javascript
function request() {
    var xhr = new XMLHttpRequest();
    xhr.addEventListener("readystatechange", function () {
        if (this.readyState === this.DONE) {
            return this.responseText;
        }
    });
    xhr.open("POST", "https://api.xxxx.com/api/withdraw", true);
    xhr.setRequestHeader("API-KEY","e4bdaf100dd50233dbe1b095337f30b6");
    xhr.setRequestHeader("API-SIGN","105f2f99fd52b2c32455f1a4f32534a907005a729e606fc75b3867c94d8203a5");
    xhr.setRequestHeader("API-TIMESTAMP","1546065657543");
    xhr.setRequestHeader("API-PASSCODE","apiPassphrase1");
    xhr.setRequestHeader("Content-Type","application/json");
    var data = '{"amount":"1.01","address":"2N3EUjhfGFkwCrnoegehrQneskYhFiPJy96","asset":"BTC"}';
    xhr.send(data);
}
```

> Sample response:

```json
{
  "withdrawId": "94ba30a6-cac5-4270-bb85-e8aa9bed197f",
  "timestamp": 1545728118368
}
```

### Http request
```POST /api/withdraw```

### Request Parameters

Name            | Type(value)   | Mandatory | Description
----------------| --------------| ----------| ------------------- 
asset           | String        | M         | 
amount          | String        | M         | 
address         | String        | M         | bankId or cryto address

### Success Response Body Fields

Name            | Type(value)   | Mandatory | Description
----------------| --------------| ----------| -------------------
withdrawId      | String        | M         | 
timestamp       | Long          | M         | When the withdraw request was accepted